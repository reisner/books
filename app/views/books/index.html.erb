<% if can_curate? %>
  <%= link_to 'New Book', new_book_path, :class => "btn btn-primary" %>
<% end %>

<br /><br />

<div class="table-responsive">
  <table id="booksTable" class="table table-striped table-bordered">
    <thead>
      <tr>
        <th></th>
        <th>Book</th>
        <th>Author</th>
        <th>First Editions</th>
        <th>Links</th>
        <% if can_curate? %>
          <th></th>
          <th></th>
        <% end %> 
      </tr>
    </thead>

    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><% if book.editions.length > 0 %>
                <%= link_to image_tag(book.editions.first.cover.url(:thumb)), book %>
              <% end %></td>
          <td><%= link_to book.title, book, :class => "btn btn-sm btn-default" %></td>
          <td><%= book.author %></td>
          <td><%= book.editions.length %></td>
          <td><%= link_to "Wikipedia", book.wikipedia %>
              <br /><%= link_to "Goodreads", book.goodreads %></td>
          <% if can_curate? %>
            <td><%= link_to 'Edit', edit_book_path(book), :class => "btn btn-sm btn-primary" %></td>
            <td><%= link_to 'Delete', book, method: :delete, data: { confirm: 'Are you sure?' }, :class => "btn btn-sm btn-danger" %></td>
          <% end %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<br />

<% if can_curate? %>
  <%= link_to 'New Book', new_book_path, :class => "btn btn-primary" %>
<% end %>
